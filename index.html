<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>YouTube Uploader</title>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <h1>Upload to YouTube via API</h1>
  <button id="authorize-btn">Authorize & Upload</button>

  <script>
    const CLIENT_ID = 'YOUR_CLIENT_ID.apps.googleusercontent.com';
    const SCOPES = 'https://www.googleapis.com/auth/youtube.upload';

    let tokenClient;
    document.getElementById('authorize-btn').onclick = () => {
      tokenClient.requestAccessToken({scope: SCOPES});
    };

    window.onload = () => {
      tokenClient = google.accounts.oauth2.initTokenClient({
        client_id: CLIENT_ID,
        scope: SCOPES,
        callback: (tokenResponse) => {
          fetch('https://www.googleapis.com/upload/youtube/v3/videos?part=snippet,status', {
            method: 'POST',
            headers: {
              'Authorization': 'Bearer ' + tokenResponse.access_token,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              snippet: {
                title: 'My Test Video',
                description: 'Uploaded from GitHub Pages',
                categoryId: '22'
              },
              status: {
                privacyStatus: 'public'
              }
            })
            // Note: to actually upload binary media, you'd use multipart/related
          })
          .then(r => r.json())
          .then(console.log)
          .catch(console.error);
        },
      });
    };
  </script>
</body>
</html>
